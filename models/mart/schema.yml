version: 2

models:
  - name: mrt_localbike__sales_by_store
    description: Aggregated sales metrics at the store level.
    columns:
      - name: store_id
        description: Unique identifier of the store.
        tests:
          - not_null
      - name: store_name
        description: Name of the store.
      - name: store_city
        description: City where the store is located.
      - name: total_orders
        description: Number of distinct orders placed at the store.
        tests:
          - not_null
      - name: total_units_sold
        description: Total quantity of products sold.
        tests:
          - not_null
      - name: total_sales_amount
        description: Total revenue generated by the store.
        tests:
          - not_null
      - name: avg_order_item_amount
        description: Average amount per order line item.
      - name: avg_order_value
        description: Average revenue per order.

  - name: mrt_localbike__sales_by_category
    description: Aggregated sales metrics at the product category level.
    columns:
      - name: category_id
        description: Unique identifier of the category.
        tests:
          - not_null
      - name: category_name
        description: Name of the product category.
      - name: total_orders
        description: Number of distinct orders containing this category.
      - name: total_units_sold
        description: Total quantity of items sold in this category.
      - name: total_sales_amount
        description: Total sales revenue from this category.
      - name: avg_unit_price
        description: Average unit price of products in this category.

  - name: mrt_localbike__sales_by_product
    description: Sales performance metrics at the product level.
    columns:
      - name: product_id
        description: Unique identifier of the product.
        tests:
          - not_null
      - name: product_name
        description: Name of the product.
      - name: category_id
        description: Unique identifier of the product category.
      - name: category_name
        description: Name of the product category.
      - name: total_units_sold
        description: Total quantity of the product sold.
        tests:
          - not_null
      - name: total_sales_amount
        description: Total sales revenue generated by the product.
        tests:
          - not_null
      - name: avg_unit_price
        description: Average unit price of the product.
      - name: total_orders
        description: Number of distinct orders containing the product.

  - name: mrt_localbike__sales_over_time
    description: Time-series sales performance aggregated by month.
    columns:
      - name: sale_month
        description: Month of the order (truncated to month).
        tests:
          - not_null
      - name: total_orders
        description: Number of distinct orders in the month.
        tests:
          - not_null
      - name: total_units_sold
        description: Total quantity of products sold in the month.
        tests:
          - not_null
      - name: total_sales_amount
        description: Total revenue in the month.
        tests:
          - not_null

  - name: mrt_localbike__sales_by_customer
    description: Sales metrics aggregated at the customer level.
    columns:
      - name: customer_id
        description: Unique identifier of the customer.
        tests:
          - not_null
      - name: total_orders
        description: Total number of orders placed by the customer.
      - name: total_units_sold
        description: Total quantity of products purchased by the customer.
      - name: total_spent
        description: Total revenue generated by the customer.
      - name: avg_order_item_amount
        description: Average amount per order line item for this customer.
